<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <title>Wookmark Endless Scroll Example</title>
    <meta name="description" content="An example how to achieve a endless scroll effect with Wookmark"/>
    <meta name="author" content="Christoph Ono, Sebastian Helzle"/>

    <meta name="viewport" content="width=device-width,initial-scale=1"/>

    <!-- CSS Reset -->
    <link rel="stylesheet" href="../bower_components/normalize.css/normalize.css"/>

    <!-- Global CSS for the page and tiles -->
    <link rel="stylesheet" href="../css/wookmark/main.css"/>

    <link rel="stylesheet" href="../css/main.css"/>

    <link rel="stylesheet" href="../css/waterfall.css"/>
</head>

<body>

<div>
    <header>
        <h1>Wookmark Endless Scroll Example</h1>
        <p>Scroll down to see the infinite scroll effect.</p>
        <p><a href="../index.html">Back to overview</a></p>
    </header>

    <div role="main">
        <ul id="container" class="tiles-wrap animated">
            <!-- These are our grid blocks -->
            <li><img src="../images/wookmark/image_1.jpg" height="283"/><p>直都偏爱小清新款的衣服，这件连衣裙收到了真的是惊喜，已经下水了，不落色，蓝色竖条纹，一直都是经典款，不过我也中意竖条纹很久了，这个颜色不得不说是真的很称肤色，很显白，不过这件连衣裙的特别之处就在于它的网纱，真的的上身效果好仙，简直美我一脸，质量也不错，也不透，料子是很舒服的那种，腰间还有收腰设计，很显腰身的，话不多说，店铺已收藏，下次还来。</p></li>
            <li><img src="../images/wookmark/image_2.jpg" height="300"/><p>看小象家衣服的一个下单的，就是这个裙子果然没有让我失望。 非常清薄，适合夏天再合适不过啦！ 款式设计非常清新，又别致。 舒适度高。收腰部分有橡皮筋外有绳子。 个人觉得腰粗腿粗的姐妹们可以果断下单。 外面有一层遮挡，所以根本就不会显肉暴露身材。 上衣虽然是两层，但是毫无厚重感！值得购买！ 拍之前咨询客服，根据身高体重来慎重购买。 我平时穿m码，这个裙子拍了l码很合适。</p></li>
            <li><img src="../images/wookmark/image_3.jpg" height="252"/><p>3</p></li>
            <li><img src="../images/wookmark/image_4.jpg" height="158"/><p>4</p></li>
            <li><img src="../images/wookmark/image_5.jpg" height="300"/><p>5</p></li>
            <li><img src="../images/wookmark/image_6.jpg" height="297"/><p>6</p></li>
            <li><img src="../images/wookmark/image_7.jpg" height="200"/><p>7</p></li>
            <li><img src="../images/wookmark/image_8.jpg" height="200"/><p>8</p></li>
            <li><img src="../images/wookmark/image_9.jpg" height="398"/><p>9</p></li>
            <li><img src="../images/wookmark/image_10.jpg" height="267"/><p>10</p></li>
            <li><img src="../images/wookmark/image_1.jpg" height="283"/><p>11</p></li>
            <li><img src="../images/wookmark/image_2.jpg" height="300"/><p>12</p></li>
            <li><img src="../images/wookmark/image_3.jpg" height="252"/><p>13</p></li>
            <li><img src="../images/wookmark/image_4.jpg" height="158"/><p>14</p></li>
            <li><img src="../images/wookmark/image_5.jpg" height="300"/><p>15</p></li>
            <li><img src="../images/wookmark/image_6.jpg" height="297"/><p>16</p></li>
            <li><img src="../images/wookmark/image_7.jpg" height="200"/><p>17</p></li>
            <li><img src="../images/wookmark/image_8.jpg" height="200"/><p>18</p></li>
            <li><img src="../images/wookmark/image_9.jpg" height="398"/><p>19</p></li>
            <li><img src="../images/wookmark/image_10.jpg" height="267"/><p>20</p></li>
            <li><img src="../images/wookmark/image_1.jpg" height="283"/><p>21</p></li>
            <li><img src="../images/wookmark/image_2.jpg" height="300"/><p>22</p></li>
            <li><img src="../images/wookmark/image_3.jpg" height="252"/><p>23</p></li>
            <li><img src="../images/wookmark/image_4.jpg" height="158"/><p>24</p></li>
            <li><img src="../images/wookmark/image_5.jpg" height="300"/><p>25</p></li>
            <li><img src="../images/wookmark/image_6.jpg" height="297"/><p>26</p></li>
            <li><img src="../images/wookmark/image_7.jpg" height="200"/><p>27</p></li>
            <li><img src="../images/wookmark/image_8.jpg" height="200"/><p>28</p></li>
            <li><img src="../images/wookmark/image_9.jpg" height="398"/><p>29</p></li>
            <li><img src="../images/wookmark/image_10.jpg" height="267"/><p>30</p></li>
            <!-- End of grid blocks -->
        </ul>

    </div>
</div>

<!-- include jQuery -->
<script src="../bower_components/jquery/dist/jquery.min.js"></script>

<!-- Include the imagesLoaded plug-in -->
<script src="../bower_components/imagesloaded/imagesloaded.pkgd.min.js"></script>

<!-- Include the plug-in -->
<script src="../js/wookmark/wookmark.js"></script>

<!-- Once the page is loaded, initalize the plug-in. -->
<script type="text/javascript">
    (function ($) {
        // Instantiate wookmark after all images have been loaded
        var wookmark,
            container = '#container',
            $container = $(container),
            $window = $(window),
            $document = $(document);
        imagesLoaded(container, function () {
            wookmark = new Wookmark(container, {
                offset: 20, // Optional, the distance between grid items
                verticalOffset: 20,
                outerOffset: 10,
                itemWidth: 226 // Optional, the width of a grid item
            });
        });
        /**
         * When scrolled all the way to the bottom, add more tiles
         */
        function onScroll() {
            // Check if we're within 100 pixels of the bottom edge of the broser window.
            var winHeight = window.innerHeight ? window.innerHeight : $window.height(), // iphone fix
                closeToBottom = ($window.scrollTop() + winHeight > $document.height() - 100);
            if (closeToBottom) {
                // Get the first then items from the grid, clone them, and add them to the bottom of the grid
                var $items = $('li', $container),
                    $firstTen = $items.slice(0, 10).clone().css('opacity', 0);
                $container.append($firstTen);
                wookmark.initItems();
                wookmark.layout(true, function () {
                    // Fade in items after layout
                    setTimeout(function() {
                        $firstTen.css('opacity', 1);
                    }, 300);
                });
            }
        };
        // Capture scroll event.
        $window.bind('scroll.wookmark', onScroll);
    })(jQuery);
</script>

</body>
</html>